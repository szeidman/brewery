<% if @ingredient.errors.any? %>
<div id="error_explanation">
  <h4><%= pluralize(@ingredient.errors.count, "error") %> kept this ingredient from saving:</h4>
  <ul>
  <% @ingredient.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
  <% end %>
  </ul>
</div>
<% end %>

<% if !@beer %>
  <%= form_for @ingredient do |f| %>
    <br>
    <%= f.label :name, class: "col-sm-1" %>
    <%= f.text_field :name %><br>
    <%= f.label :origin, class: "col-sm-1" %>
    <%= f.text_field :origin %><br>
    <label class="col-sm-1"><strong>Kind<%=": #{@ingredient.kind}" if @ingredient.beers.any?%></strong></label>
    <%= f.select :kind, ingredient_kinds, selected: @ingredient.kind, class: "col-sm-4" if !@ingredient.beers.any? %>
    <br>
    <%= f.submit %>
  <% end %>
<% else %>
  <%#= render 'beers/ingredient_form' %>
  <%= form_for(@ingredient, as :beer) do |f| %>
    <label class="col-sm-1">Amount</label>
    <input type="number" step="0.1" min="0" name="beer[ingredient_attributes][][amount]"><br>
    <label class="col-sm-1">Name</label>
    <input name="beer[ingredient_attributes][][name]"><br>
    <label class="col-sm-1">Origin</label>
    <input name="beer[ingredient_attributes][][origin]"><br>
    <label class="col-sm-1">Kind</label>
    <select name="beer[ingredient_attributes][][kind]">
      <% ingredient_kinds.each do |kind| %>
        <option value="<%= kind %>"><%= kind %></option>
      <% end %>
    </select>
    <br>
    <%= f.submit %>
  <% end %>
<% end %>
